<!DOCTYPE html>

<html lang="en" data-theme="dark">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>main.cr</title>
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chivo&family=Chivo+Mono&display=swap" rel="stylesheet">
    <!-- Pico CSS -->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css" />
    <!-- Custom style-->
    <style>
        .b {color: #d8d8d8;background-color: #181818;font-weight: 600;tab-size: 8;}.lh {color: #7cafc2;background-color: #282828;}.t {color: #d8d8d8;}.e {color: #ab4642;}.c {color: #585858;}.cp {color: #a16946;}.cpf {color: #a1b56c;}.k {color: #ba8baf;}.kt {color: #ab4642;}.na {color: #7cafc2;}.nb {color: #ab4642;}.nbp {color: #ab4642;}.nc {color: #7cafc2;}.nc {color: #dc9656;}.nd {color: #dc9656;}.nf {color: #7cafc2;}.nn {color: #7cafc2;}.nt {color: #ba8baf;}.nv {color: #7cafc2;}.nvi {color: #ab4642;}.ln {color: #dc9656;}.o {color: #86c1b9;}.ow {color: #ba8baf;}.l {color: #a1b56c;}.ls {color: #a1b56c;}.lsi {color: #a16946;}.lsr {color: #86c1b9;}.lss {color: #dc9656;}
    </style>

<style>
/* These are just a tiny fraction of the pico color variables,
   will add more as I know what they do and which semantic
   value from base16 may make sense */

/* Theme: Apathy */
/* Author: Jannik Siebert (https://github.com/janniks) */

:root {
    --pico-background-color: #031a16; /* Default backround */
    --pico-color: #81b5ac; /* Default foreground */
    --pico-text-selection-color: #184e45; /* Selection background */
    --pico-primary: #96883e; /* Headings */
    --pico-primary-underline: var(--pico-primary);
    --pico-primary-background: #184e45;
    --pico-primary-hover: #3e7996; /* Link URL */
    --pico-primary-hover-underline: var(--pico-primary-hover);
    --pico-h1-color: var(--pico-primary); /* Default foreground */
    --pico-h2-color: var(--pico-primary); /* Default foreground */
    --pico-h3-color: var(--pico-primary); /* Default foreground */
    --pico-h4-color: var(--pico-primary); /* Default foreground */
    --pico-h5-color: var(--pico-primary); /* Default foreground */
    --pico-h6-color: var(--pico-primary); /* Default foreground */
}
</style>


<style>
    html * {
        font-family: Chivo, sans-serif;
        font-weight: 300;
        overflow: visible;
    }

    html {
        background: linear-gradient(to right, var(--pico-background-color) 50%, #0b342d 50%);
    }

    body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    footer {
        text-align: center;
        border-top: solid 1px #5f9c92;
        background-color: #031a16;
        margin-top: auto;
    }
    code, div.code>pre>code {
        font-family: 'Chivo Mono', monospace !important;
        padding: .15rem;
        background-color: #0b342d !important;
    }

    code>span {
        font-family: 'Chivo Mono', monospace !important;
    }

    div.doc>pre>code {
        overflow-x: auto !important;
    }
    span.anchor {
        position: relative;
    }

    a.anchor {
        position: absolute;
        text-decoration: none;
        left: -1.2em;
        opacity: 0;
        -webkit-transition: opacity 0.2s linear;

            {
            # font-size: 150%;
            #
        }
    }

    div.doc:hover .anchor {
        opacity: 1;
    }

    @media (width < 768px) {
        html {
            background: var(--pico-background-color);
        }

        pre.code>code {
            overflow-x: auto !important;
        }
    }
</style>


<style>
    aside {
        position: fixed;
        top: 0;
        right: -20em;
        bottom: 0;
        width: 20em;
        background: var(--pico-background-color);
        overflow-y: auto;
        z-index: 100;
        padding: 1em;
        transition: right .25s;
        opacity: 90%;
    }

    #show-sidebar,
    #close-sidebar {
        position: absolute;
        top: 0em;
        right: 0em;
        padding: .5em;
        color: var(--pico-color-slate-100);
        text-decoration: none;
        background-color: var(--pico-color-slate-500);
        border-radius: 0 0 0 .5em;
        opacity: 75%;
        cursor: pointer;
    }

    #show-sidebar {
        position: fixed;
    }
</style>

</head>

<body>

<a id="show-sidebar" class="secondary" onclick="document.getElementById('sidebar').style.right='0em'">â¬…
</a>
<aside id="sidebar">
    <a id="close-sidebar" class="secondary" onclick="document.getElementById('sidebar').style.right='-20em'">âœ–</a>
    <header>
        <h2>Documents</h2>
    </header>
    <nav>
        <ul>

            <li>

                <a href="shard.yml.html"><span>shard.yml</span></a>

            </li>

            <li>

                <a href="src/baked_handler.cr.html"><span>src/baked_handler.cr</span></a>

            </li>

            <li>

                <a href="src/fake_journal_data.cr.html"><span>src/fake_journal_data.cr</span></a>

            </li>

            <li>

                <a href="src/grafito.cr.html"><span>src/grafito.cr</span></a>

            </li>

            <li>

                <a href="src/grafito_helpers.cr.html"><span>src/grafito_helpers.cr</span></a>

            </li>

            <li>

                <a href="src/journalctl.cr.html"><span>src/journalctl.cr</span></a>

            </li>

            <li>

                <span>src/main.cr</span>

            </li>

            <li>

                <a href="src/timeline.cr.html"><span>src/timeline.cr</span></a>

            </li>

        </ul>
    </nav>
</aside>

    <main class="container">

</div>

<div id="section-1" class="grid">
    <div class="doc" id="section-1">
        <span class="anchor">
            <a href="#section-1" class="anchor">â†¦</a>
        </span>
        <p>[markdown]</p>
<h1>Grafito</h1>
<p>Welcome to the Grafito source code! I will try to make this code have
comments in the literate programming style, so when passing it through
a tool such as <a href="https://crycco.ralsina.me">crycco</a> it will turn into
a readable guided tour.</p>
<p>It doesn't hurt that there is not so much code ðŸ¤£</p>
<p>Grafito is a simple log viewer. While it tries to have a nice UI, the
<em>idea</em> itself is simple. Your Linux system already provides a nice
log management system in <code>journald</code> but accessing it via the terminal
using <code>journalctl</code> is a bit old fashioned and not terribly convenient.</p>
<p>One solution many use is to use some sort of log collection and viewing
stack, such as Grafana and others. While those solutions make sense for
a complex infrastructure in a company, I donÂ´t think a personal server
or homelab has the same requirements.</p>
<p>Therefore, Grafito tries to expose the important bits of <code>journald</code> in
a comfortable environment. View the logs. Filter them in the most common
ways. Provide, when possible, escape hatches so you can just drop down
into the more powerful terminal.</p>
<p>DonÂ´t try to replace the existing, built-in solution that you already
have working, but build upon it.</p>
<p>ALso, choose the tooling so it's easy to install, requires minimal setup
and configuration and is performant. Easy, right?</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"></code></pre>
    </div>
</div>

<div id="section-2" class="grid">
    <div class="doc" id="section-2">
        <span class="anchor">
            <a href="#section-2" class="anchor">â†¦</a>
        </span>
        <h2>main.cr</h2>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="nk">require</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">./grafito</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">
</span><span class="nk">require</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">baked_file_handler</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">
</span><span class="nk">require</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">baked_file_system</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">
</span><span class="nk">require</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">docopt</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">
</span><span class="nk">require</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">kemal-basic-auth</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">
</span><span class="nk">require</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">kemal</span><span class="ls">&quot;</span><span class="ls"></span></code></pre>
    </div>
</div>

<div id="section-3" class="grid">
    <div class="doc" id="section-3">
        <span class="anchor">
            <a href="#section-3" class="anchor">â†¦</a>
        </span>
        <p>This file <a href="main.cr.html">main.cr</a> is the starting point for grafito. We get the instructions from the
user about how to start via the command line, using <a href="https://docopt.org">docopt</a>
which lets us just write the help and then everything Just Works.</p>
<p>Since one of the goals is easy setup and minimal config, there are exactly 4 configurable things:</p>
<ul>
<li>Address</li>
<li>Port</li>
<li>User</li>
<li>Password</li>
</ul>
<p>And they are all optinal ;-)</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="nc">DOC</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="ls">&lt;&lt;-DOCOPT</span><span class="t">
</span><span class="ls">Grafito - A simple log viewer.</span><span class="ls">
</span><span class="ls">
Usage:</span><span class="ls">
  grafito [options]</span><span class="ls">
  grafito (-h | --help)</span><span class="ls">
  grafito --version</span><span class="ls">
</span><span class="ls">
Options:</span><span class="ls">
  -p PORT, --port=PORT          Port to listen on [default: 3000].</span><span class="ls">
  -b ADDRESS, --bind=ADDRESS    Address to bind to [default: 127.0.0.1].</span><span class="ls">
  -U UNITS, --units=UNITS       Comma-separated list of systemd units to show (restricts access).</span><span class="ls">
  -h --help                     Show this screen.</span><span class="ls">
  --version                     Show version.</span><span class="ls">
DOCOPT</span><span class="ls"></span></code></pre>
    </div>
</div>

<div id="section-4" class="grid">
    <div class="doc" id="section-4">
        <span class="anchor">
            <a href="#section-4" class="anchor">â†¦</a>
        </span>
        <h2>The Assets class</h2>
<p>Bake all files from the src/assets directory into the binary.
The keys in the baked FS will be like &quot;/index.html&quot; for &quot;assets/index.html&quot;, etc.</p>
<p>This is important because it's what allows distributing Grafito as a single binary
without the need to ship a bunch of files alongside it.</p>
<p>All the things that are needed to function are baked-in:</p>
<ul>
<li>pico.css</li>
<li>htmx</li>
<li>index.html</li>
<li>style.css</li>
</ul>
<p>We are not embedding fonts and icons because they are not strictly
needed for Grafito to run, so if you run it without Internet access
it will work fine but fonts will look different and icons may be missing.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="nk">class</span><span class="t"> </span><span class="nc">Assets</span><span class="t">
</span><span class="t">  </span><span class="nk">extend</span><span class="t"> </span><span class="nc">BakedFileSystem</span><span class="t">
</span><span class="t">  </span><span class="t">bake_folder</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">./assets</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">
</span><span class="nk">end</span></code></pre>
    </div>
</div>

<div id="section-5" class="grid">
    <div class="doc" id="section-5">
        <span class="anchor">
            <a href="#section-5" class="anchor">â†¦</a>
        </span>
        <p>This <code>main()</code>function is called from the top-level so it's code that
always gets executed.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="nk">def</span><span class="t"> </span><span class="nv">main</span></code></pre>
    </div>
</div>

<div id="section-6" class="grid">
    <div class="doc" id="section-6">
        <span class="anchor">
            <a href="#section-6" class="anchor">â†¦</a>
        </span>
        <p>We parse the command line (<code>ARGV</code>) using the help we described above.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="t">args</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="nc">Docopt</span><span class="t">.</span><span class="t">docopt</span><span class="t">(</span><span class="nc">DOC</span><span class="t">,</span><span class="t"> </span><span class="nc">ARGV</span><span class="t">,</span><span class="t"> </span><span class="t">version</span><span class="t">:</span><span class="t"> </span><span class="nc">Grafito</span><span class="nc">::</span><span class="nc">VERSION</span><span class="t">)</span></code></pre>
    </div>
</div>

<div id="section-7" class="grid">
    <div class="doc" id="section-7">
        <span class="anchor">
            <a href="#section-7" class="anchor">â†¦</a>
        </span>
        <p>Port and binding address are important</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="t">port</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="t">args</span><span class="t">[</span><span class="ls">&quot;</span><span class="ls">--port</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">]</span><span class="t">.</span><span class="nk">as</span><span class="t">(</span><span class="nc">String</span><span class="t">)</span><span class="t">.</span><span class="t">to_i32</span><span class="t">
</span><span class="t">  </span><span class="t">bind_address</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="t">args</span><span class="t">[</span><span class="ls">&quot;</span><span class="ls">--bind</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">]</span><span class="t">.</span><span class="nk">as</span><span class="t">(</span><span class="nc">String</span><span class="t">)</span></code></pre>
    </div>
</div>

<div id="section-8" class="grid">
    <div class="doc" id="section-8">
        <span class="anchor">
            <a href="#section-8" class="anchor">â†¦</a>
        </span>
        <p>Parse units restriction if provided</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="nk">if</span><span class="t"> </span><span class="t">args</span><span class="t">[</span><span class="ls">&quot;</span><span class="ls">--units</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">]</span><span class="t">?</span><span class="t">
</span><span class="t">    </span><span class="t">units</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="t">args</span><span class="t">[</span><span class="ls">&quot;</span><span class="ls">--units</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">]</span><span class="t">.</span><span class="nk">as</span><span class="t">(</span><span class="nc">String</span><span class="t">)</span><span class="t">.</span><span class="t">split</span><span class="t">(</span><span class="ls">&quot;</span><span class="ls">,</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">)</span><span class="t">.</span><span class="t">map</span><span class="t">(</span><span class="o">&amp;</span><span class="t">.</span><span class="t">strip</span><span class="t">)</span><span class="t">
</span><span class="t">    </span><span class="nc">Grafito</span><span class="t">.</span><span class="t">allowed_units</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="t">units</span><span class="t">
</span><span class="t">    </span><span class="nc">Grafito</span><span class="nc">::</span><span class="nc">Log</span><span class="t">.</span><span class="t">info</span><span class="t"> </span><span class="t">{</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">Restricting to units: </span><span class="lsi">#{</span><span class="t">units</span><span class="t">.</span><span class="t">join</span><span class="t">(</span><span class="ls">&quot;</span><span class="ls">, </span><span class="ls">&quot;</span><span class="ls"></span><span class="t">)</span><span class="t"></span><span class="lsi">}</span><span class="ls">&quot;</span><span class="ls"></span><span class="t"> </span><span class="t">}</span><span class="t">
</span><span class="t">  </span><span class="nk">end</span></code></pre>
    </div>
</div>

<div id="section-9" class="grid">
    <div class="doc" id="section-9">
        <span class="anchor">
            <a href="#section-9" class="anchor">â†¦</a>
        </span>
        <p>Log at debug level. Probably worth making it configurable.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="nc">Log</span><span class="t">.</span><span class="t">setup</span><span class="t">(</span><span class="lss">:debug</span><span class="t">)</span><span class="t"> </span><span class="c"># Or use Log.setup_from_env for more flexibility</span><span class="t">
</span><span class="t">  </span><span class="nc">Grafito</span><span class="nc">::</span><span class="nc">Log</span><span class="t">.</span><span class="t">info</span><span class="t"> </span><span class="t">{</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">Starting Grafito server on </span><span class="lsi">#{</span><span class="t">bind_address</span><span class="t"></span><span class="lsi">}</span><span class="ls">:</span><span class="lsi">#{</span><span class="t">port</span><span class="t"></span><span class="lsi">}</span><span class="ls">&quot;</span><span class="ls"></span><span class="t"> </span><span class="t">}</span></code></pre>
    </div>
</div>

<div id="section-10" class="grid">
    <div class="doc" id="section-10">
        <span class="anchor">
            <a href="#section-10" class="anchor">â†¦</a>
        </span>
        <p>Start kemal listening on the right address</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="nc">Kemal</span><span class="t">.</span><span class="t">config</span><span class="t">.</span><span class="t">host_binding</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="t">bind_address</span></code></pre>
    </div>
</div>

<div id="section-11" class="grid">
    <div class="doc" id="section-11">
        <span class="anchor">
            <a href="#section-11" class="anchor">â†¦</a>
        </span>
        <p>Read credentials and realm from environment variables</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="t">auth_user</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="nc">ENV</span><span class="t">[</span><span class="ls">&quot;</span><span class="ls">GRAFITO_AUTH_USER</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">]</span><span class="t">?</span><span class="t">
</span><span class="t">  </span><span class="t">auth_pass</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="nc">ENV</span><span class="t">[</span><span class="ls">&quot;</span><span class="ls">GRAFITO_AUTH_PASS</span><span class="ls">&quot;</span><span class="ls"></span><span class="t">]</span><span class="t">?</span></code></pre>
    </div>
</div>

<div id="section-12" class="grid">
    <div class="doc" id="section-12">
        <span class="anchor">
            <a href="#section-12" class="anchor">â†¦</a>
        </span>
        <p>Both username and password are set, enable basic authentication</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="nk">if</span><span class="t"> </span><span class="t">auth_user</span><span class="t"> </span><span class="o">&amp;&amp;</span><span class="t"> </span><span class="t">auth_pass</span><span class="t">
</span><span class="t">    </span><span class="nc">Grafito</span><span class="nc">::</span><span class="nc">Log</span><span class="t">.</span><span class="t">info</span><span class="t"> </span><span class="t">{</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">Basic Authentication enabled. User: </span><span class="lsi">#{</span><span class="t">auth_user</span><span class="t"></span><span class="lsi">}</span><span class="ls">&quot;</span><span class="ls"></span><span class="t"> </span><span class="t">}</span><span class="t">
</span><span class="t">    </span><span class="t">basic_auth</span><span class="t"> </span><span class="t">auth_user</span><span class="t">.</span><span class="nk">as</span><span class="t">(</span><span class="nc">String</span><span class="t">)</span><span class="t">,</span><span class="t"> </span><span class="t">auth_pass</span><span class="t">.</span><span class="nk">as</span><span class="t">(</span><span class="nc">String</span><span class="t">)</span><span class="t">
</span><span class="t">  </span><span class="nk">elsif</span><span class="t"> </span><span class="t">auth_user</span><span class="t"> </span><span class="o">||</span><span class="t"> </span><span class="t">auth_pass</span></code></pre>
    </div>
</div>

<div id="section-13" class="grid">
    <div class="doc" id="section-13">
        <span class="anchor">
            <a href="#section-13" class="anchor">â†¦</a>
        </span>
        <p>Only one of the credentials was set - this is a misconfiguration.
Exit with an error code to prevent running in an insecure state.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">    </span><span class="nc">Grafito</span><span class="nc">::</span><span class="nc">Log</span><span class="t">.</span><span class="t">fatal</span><span class="t"> </span><span class="t">{</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">Basic Authentication misconfigured: Both GRAFITO_AUTH_USER and GRAFITO_AUTH_PASS must be set if authentication is intended.</span><span class="ls">&quot;</span><span class="ls"></span><span class="t"> </span><span class="t">}</span><span class="t">
</span><span class="t">    </span><span class="t">exit</span><span class="t"> </span><span class="ln">1</span><span class="t">
</span><span class="t">  </span><span class="nk">else</span></code></pre>
    </div>
</div>

<div id="section-14" class="grid">
    <div class="doc" id="section-14">
        <span class="anchor">
            <a href="#section-14" class="anchor">â†¦</a>
        </span>
        <p>Neither username nor password are set, run without authentication.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">    </span><span class="nc">Grafito</span><span class="nc">::</span><span class="nc">Log</span><span class="t">.</span><span class="t">warn</span><span class="t"> </span><span class="t">{</span><span class="t"> </span><span class="ls">&quot;</span><span class="ls">Basic Authentication is DISABLED. To enable, set GRAFITO_AUTH_USER and GRAFITO_AUTH_PASS environment variables.</span><span class="ls">&quot;</span><span class="ls"></span><span class="t"> </span><span class="t">}</span><span class="t">
</span><span class="t">  </span><span class="nk">end</span></code></pre>
    </div>
</div>

<div id="section-15" class="grid">
    <div class="doc" id="section-15">
        <span class="anchor">
            <a href="#section-15" class="anchor">â†¦</a>
        </span>
        <p>The <code>BakedFileHandler</code> is a custom handler that serves files that are baked
into the application. In our case, the Assets class we defined above.</p>
<p>You can see how it's implemented in the <a href="baked_handler.cr.html">baked_handler.cr</a> file.</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="t">baked_asset_handler</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="nc">BakedFileHandler</span><span class="nc">::</span><span class="nc">BakedFileHandler</span><span class="t">.</span><span class="t">new</span><span class="t">(</span><span class="nc">Assets</span><span class="t">)</span><span class="t">
</span><span class="t">  </span><span class="t">add_handler</span><span class="t"> </span><span class="t">baked_asset_handler</span></code></pre>
    </div>
</div>

<div id="section-16" class="grid">
    <div class="doc" id="section-16">
        <span class="anchor">
            <a href="#section-16" class="anchor">â†¦</a>
        </span>
        <p>Tell kemal to listen on the right port. That's it. The rest is done in <a href="grafito.cr.html">grafito.cr</a>
where the kemal endpoints are defined.
Clear ARGV so Kemal doesn't try to parse command line arguments</p>

    </div>
    <div class="code">
        <pre class="b" ><code class="b"><span class="t">  </span><span class="nc">ARGV</span><span class="t">.</span><span class="t">clear</span><span class="t">
</span><span class="t">  </span><span class="nc">Kemal</span><span class="t">.</span><span class="t">run</span><span class="t">(</span><span class="t">port</span><span class="t">:</span><span class="t"> </span><span class="t">port</span><span class="t">)</span><span class="t">
</span><span class="nk">end</span><span class="t">
</span><span class="t">
</span><span class="t">main</span><span class="t">(</span><span class="t">)</span></code></pre>
    </div>
</div>


    </main>
    <footer>
        Â» Generated by <a href="https://crycco.ralsina.me">Crycco</a>
        Â» Layout
sidebyside

        Â» Theme: Apathy
        Â» Powered by <a href="https://picocss.com">PicoCSS</a> and <a href="https://www.omnibus-type.com/">Chivo Font
            Family</a>
    </footer>
</body>

</html>
